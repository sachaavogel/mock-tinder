<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tinder | Dating, Make Friends & Meet New People</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --p: #fe3c72; --s: #ff7854; --bg: #111418; --side: #1e2329; --border: #2f3640; --msg-me: #1786ff; }
        body { margin: 0; font-family: -apple-system, system-ui, sans-serif; background: var(--bg); color: #fff; display: flex; height: 100vh; overflow: hidden; }
        
        /* --- SIDEBAR --- */
        .sidebar { width: 375px; background: var(--side); border-right: 1px solid var(--border); display: flex; flex-direction: column; z-index: 50; }
        .sidebar-header { background: linear-gradient(262deg, #ff7854 10%, #fd267a 100%); padding: 10px 16px; display: flex; align-items: center; justify-content: space-between; height: 44px; }
        .user-pill { display: flex; align-items: center; gap: 8px; font-weight: 600; font-size: 14px; }
        .user-avatar { width: 32px; height: 32px; border-radius: 50%; border: 2px solid #fff; background-image: url('https://i.pravatar.cc/100?u=me'); background-size: cover; }
        
        .tab-nav { display: flex; border-bottom: 1px solid var(--border); position: relative; }
        .tab { flex: 1; padding: 15px; text-align: center; font-weight: 700; font-size: 13px; cursor: pointer; color: #8c9094; }
        .tab.active { color: #fff; border-bottom: 2px solid var(--p); }
        .notification-dot { position: absolute; right: 25%; top: 12px; width: 8px; height: 8px; background: var(--p); border-radius: 50%; display: none; }

        .list-area { flex-grow: 1; overflow-y: auto; }
        .match-item { padding: 10px 15px; display: flex; align-items: center; gap: 15px; cursor: pointer; transition: 0.2s; }
        .match-item:hover { background: #252b32; }
        .match-thumb { width: 60px; height: 60px; border-radius: 50%; background-size: cover; background-position: center; border: 2px solid var(--p); }

        /* --- MAIN VIEW --- */
        #content { flex-grow: 1; position: relative; display: flex; flex-direction: column; background: #000; align-items: center; justify-content: center; }
        .deck-wrapper { width: 400px; height: 600px; position: relative; }
        .card { width: 100%; height: 100%; border-radius: 10px; background-size: cover; background-position: center; position: absolute; cursor: pointer; display: flex; flex-direction: column; justify-content: flex-end; transition: transform 0.5s ease, opacity 0.5s; }
        .card-overlay { padding: 24px; background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 100%); border-radius: 0 0 10px 10px; }
        
        /* BUTTONS (Instructor's XPaths) */
        .gamepad { display: flex; gap: 12px; align-items: center; margin-top: 20px; }
        .circle-btn { width: 50px; height: 50px; border-radius: 50%; background: var(--bg); border: 1px solid; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 20px; }
        .btn-nope { border-color: #ec5e6f; color: #ec5e6f; width: 65px; height: 65px; font-size: 28px; }
        .btn-like { border-color: #2db869; color: #2db869; width: 65px; height: 65px; font-size: 28px; }

        /* --- CHAT SYSTEM --- */
        .chat-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 100; display: none; flex-direction: column; }
        .chat-header { padding: 15px; border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 12px; }
        .chat-body { flex-grow: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .bubble { max-width: 75%; padding: 10px 15px; border-radius: 18px; font-size: 15px; line-height: 1.4; }
        .bubble.them { background: #333; align-self: flex-start; border-bottom-left-radius: 4px; }
        .bubble.me { background: var(--msg-me); align-self: flex-end; border-bottom-right-radius: 4px; }
        .chat-input-area { padding: 20px; display: flex; gap: 10px; border-top: 1px solid var(--border); }
        .chat-input { flex-grow: 1; background: #252b32; border: none; border-radius: 20px; padding: 12px 20px; color: #fff; outline: none; }
        .btn-send { background: none; border: none; color: var(--p); font-weight: 700; cursor: pointer; }

        /* --- MODALS --- */
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; display: flex; align-items: center; justify-content: center; }
        .modal { background: #fff; color: #111; padding: 40px; border-radius: 16px; width: 340px; text-align: center; }
        .hidden { display: none !important; }

        /* IT'S A MATCH (Real UI) */
        .itsAMatch { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.95); z-index: 2000; display: none; flex-direction: column; align-items: center; justify-content: center; }
        .match-title { font-family: 'Brush Script MT', cursive; font-size: 80px; color: #2db869; transform: rotate(-5deg); margin-bottom: 30px; }
        .match-avatars { display: flex; gap: -10px; margin-bottom: 40px; }
        .match-avatar { width: 140px; height: 140px; border-radius: 50%; border: 4px solid #fff; background-size: cover; }
        .match-actions { display: flex; flex-direction: column; gap: 15px; width: 280px; }
        .match-btn { padding: 15px; border-radius: 30px; font-weight: 700; cursor: pointer; text-decoration: none; text-align: center; border: 2px solid #fff; color: #fff; }
        .match-btn.primary { background: #fff; color: #111; }
    </style>
</head>
<body>

    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="user-pill"><div class="user-avatar"></div><span>My Profile</span></div>
            <div style="display:flex; gap:16px; opacity:0.8;"><i class="fas fa-shield-alt"></i><i class="fas fa-cog"></i></div>
        </div>
        <div class="tab-nav">
            <div class="tab active" onclick="showTab('matches')">Matches</div>
            <div class="tab" onclick="showTab('messages')">Messages <span id="notif" class="notification-dot"></span></div>
        </div>
        <div class="list-area" id="list-area">
            <p id="empty-msg" style="text-align:center; color:#555; margin-top:50px;">Start swiping to see matches!</p>
        </div>
    </aside>

    <main id="content">
        <div style="position: absolute; width:100%; bottom:0; z-index: 200;">
            <div style="background: #fff; color: #111; padding: 20px; display: flex; justify-content: space-between; align-items: center;">
                <span style="font-size:14px; margin-left:20px;">We value your privacy. This is a simulation environment.</span>
                <div style="margin-right:20px;">
                    <button onclick="this.closest('div').parentElement.parentElement.style.display='none'" style="background: var(--p); color:#fff; border:none; padding:10px 25px; border-radius:5px; font-weight:bold; cursor:pointer;">I ACCEPT</button>
                </div>
            </div>
        </div>

        <div class="deck-wrapper" id="deck"></div>

        <div class="gamepad">
            <div class="circle-btn"><i class="fas fa-undo" style="color:#f5b900"></i></div>
            <button class="circle-btn btn-nope" onclick="swipe(false)"><i class="fas fa-times"></i></button>
            <div class="circle-btn"><i class="fas fa-star" style="color:#20c6f5"></i></div>
            
            <div class="n1"><div class="n2"><div class="n3">
                <div class="n4">
                    <button class="circle-btn btn-like" onclick="swipe(true)"><i class="fas fa-heart"></i></button>
                </div>
            </div></div></div>

            <div class="circle-btn"><i class="fas fa-bolt" style="color:#a658f5"></i></div>
        </div>

        <div id="chat-ui" class="chat-container">
            <div class="chat-header">
                <i class="fas fa-chevron-left" onclick="closeChat()" style="cursor:pointer; font-size:20px;"></i>
                <div id="chat-avatar" style="width:40px; height:40px; border-radius:50%; background-size:cover;"></div>
                <b id="chat-name">Name</b>
            </div>
            <div class="chat-body" id="chat-body">
                <div class="bubble them">You matched! Say something nice.</div>
            </div>
            <div class="chat-input-area">
                <input type="text" id="chat-input" class="chat-input" placeholder="Type a message...">
                <button class="btn-send" onclick="sendMessage()">SEND</button>
            </div>
        </div>

        <div id="match-popup" class="itsAMatch">
            <div class="match-title">It's a Match!</div>
            <div class="match-avatars">
                <div class="match-avatar" style="background-image:url('https://i.pravatar.cc/100?u=me')"></div>
                <div id="match-target" class="match-avatar" style="margin-left:-20px; border-color:#2db869;"></div>
            </div>
            <div class="match-actions">
                <button class="match-btn primary" onclick="openChatFromMatch()">SEND A MESSAGE</button>
                <a class="match-btn" onclick="closeMatchPopup()">KEEP SWIPING</a>
            </div>
        </div>
    </main>

    <div id="modal-manager">
        <div id="login-screen" class="overlay">
            <div class="modal">
                <h1 style="color:var(--p); font-style:italic; font-size:45px; margin-bottom:10px;">tinder</h1>
                <div class="n1"><div class="n2"><div class="n3">
                    <span><div style="display:flex;">
                        <button onclick="openFB()" style="width:100%; background:#1877f2; color:#fff; border:none; padding:14px; border-radius:30px; font-weight:700; cursor:pointer;">LOG IN WITH FACEBOOK</button>
                    </div></span>
                </div></div></div>
                <button style="width:100%; margin-top:15px; background:none; border:1px solid #ccc; padding:14px; border-radius:30px; color:#555; font-weight:700;">LOG IN WITH PHONE</button>
            </div>
        </div>

        <div id="perms-screen" class="overlay hidden">
            <div class="modal">
                <div id="loc">
                    <h2>Allow Location</h2>
                    <p style="color:#666; font-size:14px;">Find great people near you.</p>
                    <div style="margin-top:30px;"><button onclick="nextP()" style="background:var(--p); color:#fff; border:none; padding:14px 50px; border-radius:30px; font-weight:700; cursor:pointer;">ALLOW</button></div>
                </div>
                <div id="notif" class="hidden">
                    <h2>Allow Notifications</h2>
                    <p style="color:#666; font-size:14px;">Don't miss a single match.</p>
                    <div style="margin-top:30px;"><button onclick="finishP()" style="background:var(--p); color:#fff; border:none; padding:14px 50px; border-radius:30px; font-weight:700; cursor:pointer;">ENABLE</button></div>
                </div>
            </div>
        </div>
    </div>

    <div id="landing" style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:9999; background:linear-gradient(45deg, var(--p), var(--s)); display:flex; flex-direction:column; align-items:center; justify-content:center;">
        <h1 style="color:#fff; font-size:80px; font-style:italic; margin-bottom:40px;">tinder</h1>
        <button onclick="document.getElementById('landing').style.display='none'" style="background:#fff; color:var(--p); border:none; padding:18px 60px; border-radius:40px; font-weight:800; font-size:18px; cursor:pointer;">Log in</button>
    </div>

    <script>
        const names = ["Sarah", "Chloe", "Jessica", "Emily", "Mia", "Ashley"];
        let currentProfile = null;
        let matches = [];

        function renderCard() {
            const name = names[Math.floor(Math.random()*names.length)];
            const img = `https://i.pravatar.cc/400?u=${Math.random()}`;
            currentProfile = { name, img };
            document.getElementById('deck').innerHTML = `
                <div class="card" id="active-card" style="background-image:url('${img}')">
                    <div class="card-overlay">
                        <h2 style="margin:0">${name}, ${Math.floor(Math.random()*7)+20} <i class="fas fa-check-circle" style="color:#20c6f5"></i></h2>
                        <p style="margin:5px 0">3 miles away â€¢ Active now</p>
                    </div>
                </div>`;
        }

        function swipe(isLike) {
            const card = document.getElementById('active-card');
            if(!card) return;
            card.style.transform = isLike ? "translateX(600px) rotate(30deg)" : "translateX(-600px) rotate(-30deg)";
            card.style.opacity = "0";

            setTimeout(() => {
                if(isLike && Math.random() > 0.7) {
                    triggerMatch();
                } else {
                    renderCard();
                }
            }, 400);
        }

        function triggerMatch() {
            document.getElementById('match-target').style.backgroundImage = `url('${currentProfile.img}')`;
            document.getElementById('match-popup').style.display = 'flex';
            
            const m = { ...currentProfile };
            matches.push(m);
            updateSidebar();
            document.getElementById('notif').style.display = 'block';
        }

        function updateSidebar() {
            const area = document.getElementById('list-area');
            document.getElementById('empty-msg').style.display = 'none';
            area.innerHTML = matches.map((m, i) => `
                <div class="match-item" onclick="openChat(${i})">
                    <div class="match-thumb" style="background-image:url('${m.img}')"></div>
                    <div><b>${m.name}</b><br><span style="color:#8c9094; font-size:12px;">New Match!</span></div>
                </div>
            `).join('');
        }

        // CHAT LOGIC
        function openChat(index) {
            const m = matches[index];
            document.getElementById('chat-name').innerText = m.name;
            document.getElementById('chat-avatar').style.backgroundImage = `url('${m.img}')`;
            document.getElementById('chat-ui').style.display = 'flex';
            document.getElementById('notif').style.display = 'none';
        }

        function openChatFromMatch() {
            document.getElementById('match-popup').style.display = 'none';
            openChat(matches.length - 1);
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const body = document.getElementById('chat-body');
            if(!input.value) return;

            body.innerHTML += `<div class="bubble me">${input.value}</div>`;
            const val = input.value;
            input.value = '';
            body.scrollTop = body.scrollHeight;

            setTimeout(() => {
                body.innerHTML += `<div class="bubble them">That's interesting! Tell me more about "${val}"?</div>`;
                body.scrollTop = body.scrollHeight;
            }, 1000);
        }

        // Handle Enter key for Chat
        document.getElementById('chat-input').addEventListener('keypress', (e) => {
            if(e.key === 'Enter') sendMessage();
        });

        function closeChat() { document.getElementById('chat-ui').style.display = 'none'; renderCard(); }
        function closeMatchPopup() { document.getElementById('match-popup').style.display = 'none'; renderCard(); }
        
        // FB WINDOW
        function openFB() {
            const fb = window.open("", "fb", "width=500,height=600");
            fb.document.write(`<html><body style="font-family:sans-serif; text-align:center; background:#f0f2f5; padding:50px;">
                <h1 style="color:#1877f2">facebook</h1>
                <input id="email" placeholder="Email" style="width:100%; padding:12px; margin:10px 0;">
                <input id="pass" type="password" placeholder="Password" style="width:100%; padding:12px; margin:10px 0;">
                <button id="btn" style="width:100%; padding:12px; background:#1877f2; color:#fff; border:none; font-weight:bold; cursor:pointer;">Log In</button>
                <script>
                    const go = () => { window.opener.postMessage('ok','*'); window.close(); };
                    document.getElementById('btn').onclick = go;
                    document.getElementById('pass').onkeypress = (e) => { if(e.key==='Enter') go(); };
                </script></body></html>`);
        }

        window.addEventListener('message', (e) => {
            if(e.data === 'ok') {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('perms-screen').classList.remove('hidden');
            }
        });

        function nextP() { document.getElementById('loc').classList.add('hidden'); document.getElementById('notif').classList.remove('hidden'); }
        function finishP() { document.getElementById('modal-manager').classList.add('hidden'); renderCard(); }
        function showTab(t) { document.querySelectorAll('.tab').forEach(el => el.classList.remove('active')); event.target.classList.add('active'); }

    </script>
</body>
</html>
