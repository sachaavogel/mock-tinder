<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tinder | Dating, Make Friends & Meet New People</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --p: #fe3c72; --s: #ff7854; --bg: #111418; --card: #000; --side: #1e2329; --border: #2f3640; }
        body { margin: 0; font-family: -apple-system, sans-serif; background: var(--bg); color: #fff; display: flex; height: 100vh; overflow: hidden; }
        
        /* --- SIDEBAR & NAVIGATION --- */
        .sidebar { width: 375px; background: var(--side); border-right: 1px solid var(--border); display: flex; flex-direction: column; transition: 0.3s; }
        .sidebar-header { background: linear-gradient(45deg, var(--p), var(--s)); padding: 12px 20px; display: flex; align-items: center; justify-content: space-between; height: 50px; }
        .tab-bar { display: flex; border-bottom: 1px solid #333; background: var(--side); }
        .tab { flex: 1; padding: 15px; text-align: center; color: #8c9094; cursor: pointer; font-weight: bold; font-size: 14px; text-transform: uppercase; }
        .tab.active { color: var(--p); border-bottom: 2px solid var(--p); }
        
        /* MATCHES & MESSAGES LIST */
        .list-container { flex-grow: 1; overflow-y: auto; padding: 10px; }
        .match-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
        .match-item { aspect-ratio: 3/4; background-size: cover; border-radius: 8px; border: 2px solid transparent; cursor: pointer; position: relative; }
        .match-item:hover { border-color: var(--p); }
        .msg-item { display: flex; align-items: center; gap: 15px; padding: 10px; cursor: pointer; border-radius: 8px; }
        .msg-item:hover { background: #252b32; }
        .msg-thumb { width: 50px; height: 50px; border-radius: 50%; background-size: cover; }

        /* --- MAIN SWIPING AREA --- */
        #content { flex-grow: 1; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #000; }
        .card-stack { width: 380px; height: 580px; position: relative; }
        .card { width: 100%; height: 100%; background-size: cover; border-radius: 12px; position: absolute; display: flex; flex-direction: column; justify-content: flex-end; cursor: pointer; }
        .card-info { padding: 25px; background: linear-gradient(transparent, rgba(0,0,0,1)); border-radius: 0 0 12px 12px; }
        
        /* BUTTONS (Targeted by Instructor XPath) */
        .controls { margin-top: 25px; display: flex; align-items: center; gap: 12px; }
        .btn-round { width: 55px; height: 55px; border-radius: 50%; border: 1px solid; background: var(--bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 20px; transition: 0.1s; }
        .btn-round:active { transform: scale(0.9); }
        .btn-like { color: #2db869; border-color: #2db869; font-size: 26px; width: 65px; height: 65px; }
        .btn-nope { color: #ec5e6f; border-color: #ec5e6f; font-size: 26px; width: 65px; height: 65px; }
        .btn-super { color: #20c6f5; border-color: #20c6f5; }
        .btn-rewind { color: #f5b900; border-color: #f5b900; }
        .btn-boost { color: #a658f5; border-color: #a658f5; }

        /* --- MODALS & OVERLAYS --- */
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 1000; display: flex; align-items: center; justify-content: center; }
        .modal { background: #fff; color: #333; padding: 40px; border-radius: 15px; width: 350px; text-align: center; }
        .hidden { display: none !important; }
        
        /* Profile Detail View */
        .profile-detail { position: absolute; top:0; left:0; width:100%; height:100%; background: var(--side); z-index: 50; padding: 20px; box-sizing: border-box; overflow-y: auto; }
        .interest-tag { display: inline-block; padding: 5px 12px; border: 1px solid #444; border-radius: 20px; margin: 5px; font-size: 14px; }

        /* Chat Window */
        .chat-view { position: absolute; top:0; left:0; width:100%; height:100%; background: var(--bg); z-index: 60; display: flex; flex-direction: column; }
        .chat-header { padding: 15px; border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 10px; }
        .chat-msgs { flex-grow: 1; padding: 20px; overflow-y: auto; }
        .bubble { padding: 10px 15px; border-radius: 18px; margin-bottom: 10px; max-width: 70%; }
        .bubble.them { background: #333; align-self: flex-start; }
        .bubble.me { background: linear-gradient(to right, var(--p), var(--s)); align-self: flex-end; margin-left: auto; }

        /* MATCH POPUP (Selector: .itsAMatch a) */
        .itsAMatch { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.95); z-index: 2000; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .itsAMatch h1 { font-family: 'Brush Script MT', cursive; font-size: 80px; color: #2db869; margin: 0; transform: rotate(-5deg); }
        .itsAMatch a { border: 2px solid #fff; color: #fff; padding: 12px 40px; border-radius: 30px; text-decoration: none; margin-top: 30px; font-weight: bold; cursor: pointer; display: inline-block; }

        @keyframes swipeRight { to { transform: translate(500px, 100px) rotate(30deg); opacity: 0; } }
        @keyframes swipeLeft { to { transform: translate(-500px, 100px) rotate(-30deg); opacity: 0; } }
    </style>
</head>
<body>

    <aside class="sidebar">
        <div class="sidebar-header">
            <div style="display:flex; align-items:center; gap:10px;">
                <div style="width:32px; height:32px; background:#fff; border-radius:50%; background-image:url('https://i.pravatar.cc/100?img=11'); background-size:cover;"></div>
                <span style="font-weight:bold; font-size: 14px;">My Profile</span>
            </div>
            <div style="display:flex; gap:15px; font-size: 18px; opacity: 0.7;">
                <i class="fas fa-shield-alt" title="Safety"></i>
                <i class="fas fa-cog" style="cursor:pointer" onclick="toggleSettings()" title="Settings"></i>
            </div>
        </div>
        <div class="tab-bar">
            <div class="tab active" onclick="showTab('matches')">Matches</div>
            <div class="tab" onclick="showTab('messages')">Messages</div>
        </div>
        
        <div id="matches-tab" class="list-container">
            <div class="match-grid" id="match-grid">
                </div>
        </div>

        <div id="messages-tab" class="list-container hidden">
            <div id="msg-list">
                <p style="text-align:center; color:#555; margin-top:50px;">No messages yet. Start swiping!</p>
            </div>
        </div>
    </aside>

    <main id="content">
        <div style="position: absolute; width: 100%; height: 100%; pointer-events: none; z-index: 100;">
            <div style="position: absolute; bottom: 0; width: 100%; pointer-events: auto; background: #fff; color: #111; padding: 20px;">
                <div style="max-width: 900px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-size: 14px; font-weight: 500;">We use cookies to improve your experience.</span>
                    <div><button onclick="this.closest('div').parentElement.parentElement.style.display='none'" style="background: var(--p); color: #fff; border: none; padding: 10px 25px; border-radius: 5px; font-weight: bold; cursor: pointer;">I ACCEPT</button></div>
                </div>
            </div>
        </div>

        <div style="display: flex; flex-direction: column; align-items: center; width: 100%;">
            <div class="main-layout">
                <main>
                    <div>
                        <div class="card-stack" id="stack"></div>

                        <div class="controls">
                            <button class="btn-round btn-rewind"><i class="fas fa-undo"></i></button>
                            <button class="btn-round btn-nope" onclick="swipe(false)"><i class="fas fa-times"></i></button>
                            <button class="btn-round btn-super"><i class="fas fa-star"></i></button>
                            
                            <div class="nest"> <div class="nest"> <div class="nest">
                                <div class="nest">
                                    <button class="btn-round btn-like" onclick="swipe(true)"><i class="fas fa-heart"></i></button>
                                </div>
                            </div> </div> </div>

                            <button class="btn-round btn-boost"><i class="fas fa-bolt"></i></button>
                        </div>
                    </div>
                </main>
            </div>
        </div>

        <div id="settings-view" class="profile-detail hidden">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
                <h2>Discovery Settings</h2>
                <i class="fas fa-times" style="font-size:24px; cursor:pointer" onclick="toggleSettings()"></i>
            </div>
            <div style="background:#252b32; padding:20px; border-radius:10px;">
                <p>Location: <b>New York, NY</b></p>
                <p>Maximum Distance: <b>50 miles</b></p>
                <p>Age Range: <b>18 - 30</b></p>
            </div>
        </div>

        <div id="chat-view" class="chat-view hidden">
            <div class="chat-header">
                <i class="fas fa-chevron-left" style="cursor:pointer" onclick="closeChat()"></i>
                <div id="chat-user-img" class="msg-thumb"></div>
                <b id="chat-user-name">Name</b>
            </div>
            <div class="chat-msgs" id="chat-msgs">
                <div class="bubble them">Hey! How's your day going?</div>
            </div>
            <div style="padding:15px; border-top:1px solid var(--border); display:flex; gap:10px;">
                <input type="text" placeholder="Type a message..." style="flex-grow:1; background:#333; border:none; color:#fff; padding:10px; border-radius:20px;">
                <button style="background:none; border:none; color:var(--p); font-weight:bold;">SEND</button>
            </div>
        </div>

        <div id="match-popup" class="itsAMatch hidden">
            <h1>It's a Match!</h1>
            <p style="color:#fff; font-size:18px;">Don't keep them waiting.</p>
            <div style="display:flex; gap:20px; margin:30px 0;">
                <div style="width:120px; height:120px; border-radius:50%; border:4px solid #fff; background-image:url('https://i.pravatar.cc/100?img=11'); background-size:cover;"></div>
                <div id="match-avatar" style="width:120px; height:120px; border-radius:50%; border:4px solid #fff; background-size:cover;"></div>
            </div>
            <a onclick="closeMatch()">KEEP SWIPING</a>
        </div>
    </main>

    <div id="modal-manager">
        <div id="login-screen" class="overlay">
            <div class="modal">
                <h1 style="color:var(--p); font-style:italic; font-size:40px; margin-bottom:10px;">tinder</h1>
                <p style="font-weight:bold; margin-bottom:30px;">Create an account or log in</p>
                <div class="nest"> <div class="nest"> <div class="nest">
                    <span><div style="display: flex;">
                        <button onclick="openFBWindow()" style="width: 100%; background: #1877f2; color: #fff; border: none; padding: 12px; border-radius: 25px; font-weight: bold; cursor: pointer; display:flex; align-items:center; justify-content:center; gap:10px;">
                            <i class="fab fa-facebook"></i> LOG IN WITH FACEBOOK
                        </button>
                    </div></span>
                </div> </div> </div>
                <button style="width:100%; margin-top:15px; background:none; border:1px solid #ccc; padding:12px; border-radius:25px; font-weight:bold; color:#555;">LOG IN WITH PHONE NUMBER</button>
            </div>
        </div>

        <div id="perms-screen" class="overlay hidden">
            <div class="modal">
                <div id="loc-step">
                    <i class="fas fa-map-marker-alt" style="font-size:40px; color:var(--p); margin-bottom:20px;"></i>
                    <h3>Allow Location?</h3>
                    <p style="color:#666; font-size:14px;">Tinder uses your location to show you potential matches in your area.</p>
                    <div style="margin-top:30px;">
                        <button onclick="nextPerm()" style="background:var(--p); color:#fff; border:none; padding:12px 40px; border-radius:30px; font-weight:bold; cursor:pointer;">ALLOW</button>
                    </div>
                </div>
                <div id="notif-step" class="hidden">
                    <i class="fas fa-bell" style="font-size:40px; color:var(--p); margin-bottom:20px;"></i>
                    <h3>Enable Notifications?</h3>
                    <p style="color:#666; font-size:14px;">Get notified when someone matches with you or sends you a message.</p>
                    <div style="margin-top:30px; display:flex; flex-direction:column; gap:10px;">
                        <button style="background:none; border:none; color:#999; font-weight:bold; cursor:pointer;">NOT INTERESTED</button>
                        <button onclick="enterApp()" style="background:var(--p); color:#fff; border:none; padding:12px 40px; border-radius:30px; font-weight:bold; cursor:pointer;">ENABLE</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="landing" style="position: fixed; top:0; left:0; width:100%; height:100%; z-index: 5000; background: linear-gradient(45deg, var(--p), var(--s)); display: flex; align-items: center; justify-content: center; flex-direction: column;">
        <h1 style="color:#fff; font-size:80px; font-style:italic; margin-bottom:30px;">tinder</h1>
        <button onclick="document.getElementById('landing').style.display='none'" style="background: #fff; color: var(--p); border: none; padding: 18px 60px; border-radius: 40px; font-weight: bold; font-size: 20px; cursor: pointer; box-shadow: 0 10px 20px rgba(0,0,0,0.2);">Log in</button>
    </div>

    <script>
        const names = ["Sarah", "Emily", "Chloe", "Megan", "Sophia", "Olivia", "Isabella", "Mia"];
        const interests = ["Gaming", "Sushi", "Travel", "Dogs", "Wine", "Hiking", "Movies", "Music"];
        let currentProfile = null;
        let matchCount = 0;

        function loadCard() {
            const name = names[Math.floor(Math.random() * names.length)];
            const age = Math.floor(Math.random() * 8) + 20;
            const id = Math.floor(Math.random() * 1000);
            currentProfile = { name, age, img: `https://picsum.photos/400/600?random=${id}` };
            
            const stack = document.getElementById('stack');
            stack.innerHTML = `
                <div class="card" id="active-card" style="background-image: url('${currentProfile.img}')">
                    <div class="card-info">
                        <div style="display:flex; align-items:center; gap:10px;">
                            <h2 style="margin:0">${name}, ${age}</h2>
                            <i class="fas fa-info-circle" style="font-size:20px; opacity:0.8"></i>
                        </div>
                        <p style="margin:5px 0 0">Recently Active</p>
                    </div>
                </div>`;
        }

        function swipe(isLike) {
            const card = document.getElementById('active-card');
            if(!card) return;
            
            card.style.animation = isLike ? "swipeRight 0.5s forwards" : "swipeLeft 0.5s forwards";

            setTimeout(() => {
                if (isLike && Math.random() > 0.7) {
                    triggerMatch();
                } else {
                    loadCard();
                }
            }, 300);
        }

        function triggerMatch() {
            document.getElementById('match-avatar').style.backgroundImage = `url('${currentProfile.img}')`;
            document.getElementById('match-popup').classList.remove('hidden');
            
            // Add to Sidebar Grid
            const grid = document.getElementById('match-grid');
            const item = document.createElement('div');
            item.className = 'match-item';
            item.style.backgroundImage = `url('${currentProfile.img}')`;
            grid.prepend(item);

            // Add to Message List
            const msgList = document.getElementById('msg-list');
            if(matchCount === 0) msgList.innerHTML = ''; // Clear placeholder
            const msg = document.createElement('div');
            msg.className = 'msg-item';
            const profileCopy = {...currentProfile};
            msg.onclick = () => openChat(profileCopy);
            msg.innerHTML = `
                <div class="msg-thumb" style="background-image:url('${profileCopy.img}')"></div>
                <div>
                    <b style="display:block">${profileCopy.name}</b>
                    <span style="color:#8c9094; font-size:13px;">Sent you a match! Say hi.</span>
                </div>
            `;
            msgList.prepend(msg);
            matchCount++;
        }

        function closeMatch() {
            document.getElementById('match-popup').classList.add('hidden');
            loadCard();
        }

        // CHAT LOGIC
        function openChat(profile) {
            document.getElementById('chat-user-name').innerText = profile.name;
            document.getElementById('chat-user-img').style.backgroundImage = `url('${profile.img}')`;
            document.getElementById('chat-view').classList.remove('hidden');
        }
        function closeChat() { document.getElementById('chat-view').classList.add('hidden'); }

        // TABS & SETTINGS
        function showTab(type) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('matches-tab').classList.toggle('hidden', type !== 'matches');
            document.getElementById('messages-tab').classList.toggle('hidden', type !== 'messages');
        }
        function toggleSettings() { document.getElementById('settings-view').classList.toggle('hidden'); }

        // FB POPUP WINDOW (As requested)
        function openFBWindow() {
            const fbWin = window.open("", "fbLogin", "width=500,height=600");
            fbWin.document.write(`
                <html><head><title>Facebook</title></head>
                <body style="font-family:sans-serif; background:#f0f2f5; padding:40px; text-align:center;">
                    <h1 style="color:#1877f2">facebook</h1>
                    <div style="background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 4px rgba(0,0,0,0.1)">
                        <input id="email" placeholder="Email or Phone" style="width:100%; padding:12px; margin:10px 0; border:1px solid #ddd; border-radius:6px;">
                        <input id="pass" type="password" placeholder="Password" style="width:100%; padding:12px; margin:10px 0; border:1px solid #ddd; border-radius:6px;">
                        <button id="lbtn" style="width:100%; padding:12px; background:#1877f2; color:#fff; border:none; border-radius:6px; font-weight:bold; cursor:pointer;">Log In</button>
                    </div>
                    <script>
                        const finish = () => { window.opener.postMessage('auth_ok', '*'); window.close(); };
                        document.getElementById('lbtn').onclick = finish;
                        document.getElementById('pass').onkeypress = (e) => { if(e.key==='Enter') finish(); };
                    <\/script>
                </body></html>
            `);
        }

        window.addEventListener('message', (e) => {
            if(e.data === 'auth_ok') {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('perms-screen').classList.remove('hidden');
            }
        });

        function nextPerm() { document.getElementById('loc-step').classList.add('hidden'); document.getElementById('notif-step').classList.remove('hidden'); }
        function enterApp() { document.getElementById('modal-manager').classList.add('hidden'); loadCard(); }
    </script>
</body>
</html>
