<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tinder | Dating, Make Friends & Meet New People</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { 
            --p: #fe3c72; --s: #ff7854; --bg: #111418; --side: #1e2329; 
            --border: #2f3640; --msg-me: #1786ff; --super: #20c6f5; --txt: #ffffff;
        }
        
        body { margin: 0; font-family: -apple-system, system-ui, sans-serif; background: var(--bg); color: var(--txt); display: flex; height: 100vh; overflow: hidden; }

        /* --- SIDEBAR --- */
        .sidebar { width: 375px; background: var(--side); border-right: 1px solid var(--border); display: flex; flex-direction: column; z-index: 50; }
        .sidebar-header { background: linear-gradient(262deg, #ff7854 10%, #fd267a 100%); padding: 10px 16px; display: flex; align-items: center; justify-content: space-between; height: 44px; }
        .user-avatar { width: 32px; height: 32px; border-radius: 50%; border: 2px solid #fff; background-image: url('https://i.pravatar.cc/100?u=me'); background-size: cover; }
        
        .tab-nav { display: flex; border-bottom: 1px solid var(--border); }
        .tab { flex: 1; padding: 15px; text-align: center; font-weight: 700; font-size: 13px; cursor: pointer; color: #8c9094; }
        .tab.active { color: #fff; border-bottom: 2px solid var(--p); }

        .list-area { flex-grow: 1; overflow-y: auto; padding: 15px; }
        .matches-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .match-card { aspect-ratio: 1/1.3; border-radius: 8px; background-size: cover; background-position: center; cursor: pointer; position: relative; transition: 0.2s; border: 1px solid transparent; }
        .match-card span { position: absolute; bottom: 5px; left: 8px; font-size: 11px; font-weight: bold; text-shadow: 1px 1px 3px #000; }

        .msg-item { display: flex; align-items: center; gap: 12px; padding: 10px; cursor: pointer; border-radius: 10px; transition: 0.2s; margin-bottom: 5px; }
        .msg-item:hover { background: #252b32; }
        .msg-thumb { width: 55px; height: 55px; border-radius: 50%; background-size: cover; background-position: center; }

        /* --- MAIN VIEW --- */
        #content { flex-grow: 1; position: relative; display: flex; flex-direction: column; background: #000; align-items: center; justify-content: center; }
        .deck-wrapper { width: 400px; height: 600px; position: relative; }
        
        .card { width: 100%; height: 100%; border-radius: 12px; background-size: cover; background-position: center; position: absolute; cursor: pointer; transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.4s; overflow: hidden; box-shadow: 0 15px 35px rgba(0,0,0,0.6); }
        .card-overlay { padding: 25px; background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 40%); position: absolute; bottom: 0; width: 100%; box-sizing: border-box; pointer-events: none; }
        
        .nav-zone { position: absolute; top: 0; height: 85%; z-index: 5; }
        .nav-left { left: 0; width: 30%; }
        .nav-info { left: 30%; width: 40%; }
        .nav-right { right: 0; width: 30%; }

        .dot { flex: 1; height: 4px; background: rgba(255,255,255,0.3); border-radius: 2px; }
        .dot.active { background: #fff; }

        .bio-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #fff; color: #111; display: none; padding: 20px; box-sizing: border-box; overflow-y: auto; z-index: 100; border-radius: 12px; }

        /* --- BUTTONS --- */
        .gamepad { display: flex; gap: 15px; align-items: center; margin-top: 25px; z-index: 20; }
        .circle-btn { width: 54px; height: 54px; border-radius: 50%; background: var(--bg); border: 1px solid; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 20px; transition: 0.1s; color: #fff; }
        .btn-undo { border-color: #f5b900; color: #f5b900; }
        .btn-nope { border-color: #ec5e6f; color: #ec5e6f; width: 68px; height: 68px; }
        .btn-like { border-color: #2db869; color: #2db869; width: 68px; height: 68px; }

        /* --- CHAT --- */
        .chat-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 150; display: none; flex-direction: column; }
        .chat-header { padding: 15px; border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 12px; }
        .bubble { max-width: 75%; padding: 10px 16px; border-radius: 20px; font-size: 15px; line-height: 1.4; position: relative; margin-bottom: 8px; }
        .bubble.them { background: #333; align-self: flex-start; }
        .bubble.me { background: var(--msg-me); align-self: flex-end; }
        .receipt { font-size: 10px; color: #888; text-align: right; margin-top: 4px; }

        /* --- MODALS --- */
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.96); z-index: 1000; display: flex; align-items: center; justify-content: center; }
        .modal { background: #fff; color: #111; padding: 40px; border-radius: 16px; width: 350px; text-align: center; }
        .hidden { display: none !important; }

        .itsAMatch { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.98); z-index: 2000; display: none; flex-direction: column; align-items: center; justify-content: center; }
        .match-title { font-family: 'Brush Script MT', cursive; font-size: 90px; color: #2db869; transform: rotate(-5deg); }
    </style>
</head>
<body>

    <aside class="sidebar">
        <div class="sidebar-header">
            <div style="display:flex; align-items:center; gap:10px;"><div class="user-avatar"></div><b>My Profile</b></div>
            <i class="fas fa-shield-alt" style="color: #2db869; cursor: pointer;" onclick="toggleSafety(true)"></i>
        </div>
        <div class="tab-nav">
            <div class="tab active" id="tab-matches" onclick="switchTab('matches')">Matches</div>
            <div class="tab" id="tab-messages" onclick="switchTab('messages')">Messages</div>
        </div>
        <div class="list-area" id="sidebar-content"></div>
        
        <div style="padding: 20px; background: #181c22; border-top: 1px solid var(--border);">
            <div style="font-weight: bold; color: var(--p); font-size: 11px; margin-bottom: 10px;">DISCOVERY SETTINGS</div>
            <input type="range" style="width:100%; accent-color:var(--p);" min="1" max="100" value="25">
        </div>
    </aside>

    <main id="content">
        <div id="cookie-banner" style="position: absolute; bottom: 0; width: 100%; z-index: 500;">
            <div style="background: #fff; color: #111; padding: 20px; display: flex; justify-content: space-between; align-items: center;">
                <span style="font-size: 14px;">This site uses cookies. Standard stuff.</span>
                <button onclick="document.getElementById('cookie-banner').style.display='none'" style="background: var(--p); color: #fff; border: none; padding: 10px 25px; border-radius: 5px; cursor: pointer; font-weight: bold;">I ACCEPT</button>
            </div>
        </div>

        <div class="deck-wrapper" id="deck"></div>

        <div class="gamepad">
            <button class="circle-btn btn-undo" onclick="rewind()"><i class="fas fa-undo"></i></button>
            <button class="circle-btn btn-nope" onclick="swipe(false)"><i class="fas fa-times"></i></button>
            <button class="circle-btn" style="color:var(--super); border-color:var(--super);"><i class="fas fa-star"></i></button>
            
            <div class="n1"><div class="n2"><div class="n3">
                <div class="n4">
                    <button class="circle-btn btn-like" onclick="swipe(true)"><i class="fas fa-heart"></i></button>
                </div>
            </div></div></div>

            <button class="circle-btn" style="color:#a658f5; border-color:#a658f5;"><i class="fas fa-bolt"></i></button>
        </div>

        <div id="chat-ui" class="chat-container">
            <div class="chat-header">
                <i class="fas fa-chevron-left" onclick="closeChat()" style="cursor:pointer; font-size:22px;"></i>
                <div id="chat-avatar" class="msg-thumb"></div>
                <b id="chat-name"></b>
            </div>
            <div class="chat-body" id="chat-body" style="display:flex; flex-direction:column; padding: 20px; overflow-y:auto; flex-grow:1;"></div>
            <div class="chat-input-area" style="padding:20px; display:flex; gap:10px; border-top:1px solid var(--border);">
                <input type="text" id="chat-input" class="chat-input" placeholder="Type a message..." onkeypress="if(event.key==='Enter') sendMessage()">
                <button onclick="sendMessage()" style="background:none; border:none; color:var(--p); font-weight:bold; cursor:pointer;">SEND</button>
            </div>
        </div>

        <div id="match-popup" class="itsAMatch">
            <div class="match-title">It's a Match!</div>
            <div style="display:flex; gap: 20px; margin: 40px 0;">
                <div class="msg-thumb" style="width:120px; height:120px; border:4px solid #fff; background-image:url('https://i.pravatar.cc/100?u=me')"></div>
                <div id="match-target" class="msg-thumb" style="width:120px; height:120px; border:4px solid #2db869;"></div>
            </div>
            <button class="match-btn" style="padding: 15px 40px; border-radius:30px; border:none; background:#fff; font-weight:bold; cursor:pointer;" onclick="openChatFromMatch()">SEND MESSAGE</button>
            <a style="color:#fff; margin-top:20px; cursor:pointer; text-decoration:underline;" onclick="document.getElementById('match-popup').style.display='none'; renderCard();">Keep Swiping</a>
        </div>
    </main>

    <div id="safety-modal" class="overlay hidden">
        <div class="modal" style="text-align: left;">
            <i class="fas fa-times" style="float:right; cursor:pointer;" onclick="toggleSafety(false)"></i>
            <h2 style="color:var(--p);"><i class="fas fa-shield-alt"></i> Safety Center</h2>
            <p>Your safety is our priority. Please remember:</p>
            <ul style="font-size: 14px; line-height: 1.6; padding-left: 20px;">
                <li>Get to know someone before meeting up.</li>
                <li>Always meet in a public, well-lit place.</li>
                <li>Tell a friend where you are going.</li>
                <li>Never share financial information.</li>
            </ul>
            <button onclick="toggleSafety(false)" style="width:100%; background:var(--p); color:#fff; border:none; padding:12px; border-radius:30px; font-weight:bold; margin-top:20px;">Got it</button>
        </div>
    </div>

    <div id="auth-flow">
        <div id="login-screen" class="overlay">
            <div class="modal">
                <h1 style="color:var(--p); font-style:italic; font-size:50px;">tinder</h1>
                <div class="n1"><div class="n2"><div class="n3">
                    <button onclick="openFB()" style="width:100%; background:#1877f2; color:#fff; border:none; padding:15px; border-radius:30px; font-weight:700; cursor:pointer;">LOG IN WITH FACEBOOK</button>
                </div></div></div>
            </div>
        </div>
        <div id="perms-screen" class="overlay hidden">
            <div class="modal">
                <div id="loc-step">
                    <h2>Enable Location</h2>
                    <button onclick="document.getElementById('loc-step').classList.add('hidden'); document.getElementById('notif-step').classList.remove('hidden');" style="background:var(--p); color:#fff; border:none; padding:15px 40px; border-radius:30px; cursor:pointer; width:100%;">ALLOW</button>
                </div>
                <div id="notif-step" class="hidden">
                    <h2>Enable Notifications</h2>
                    <button onclick="document.getElementById('auth-flow').classList.add('hidden'); renderCard();" style="background:var(--p); color:#fff; border:none; padding:15px 40px; border-radius:30px; cursor:pointer; width:100%;">ENABLE</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const names = ["Sarah", "Chloe", "Jessica", "Emily", "Mia", "Ashley", "Riley", "Taylor"];
        const bios = ["Coffee lover. ‚òï", "Adventure awaits! üèîÔ∏è", "Pizza > People. üçï", "Swipe right for my dog. üê∂"];
        let matches = []; 
        let history = [];
        let currentProfile = null;
        let activeTab = 'matches';

        function renderCard(profile = null) {
            const id = Math.floor(Math.random() * 9999);
            currentProfile = profile || {
                id,
                name: names[Math.floor(Math.random() * names.length)],
                age: Math.floor(Math.random() * 5) + 21,
                bio: bios[Math.floor(Math.random() * bios.length)],
                photo: `https://i.pravatar.cc/400?u=${id}`,
                lastMsg: null
            };
            
            document.getElementById('deck').innerHTML = `
                <div class="card" id="active-card" style="background-image:url('${currentProfile.photo}')">
                    <div class="nav-zone nav-info" onclick="toggleBio(true)"></div>
                    <div class="card-overlay">
                        <h2>${currentProfile.name}, ${currentProfile.age}</h2>
                        <p><i class="fas fa-map-marker-alt"></i> Nearby</p>
                    </div>
                    <div class="bio-overlay" id="full-bio">
                        <i class="fas fa-chevron-down" style="color:var(--p); cursor:pointer;" onclick="toggleBio(false)"></i>
                        <h2>${currentProfile.name}</h2>
                        <p>${currentProfile.bio}</p>
                    </div>
                </div>`;
            updateSidebar();
        }

        function swipe(isLike) {
            const card = document.getElementById('active-card');
            if(!card) return;
            history.push({...currentProfile}); 

            card.style.transform = isLike ? "translateX(700px) rotate(30deg)" : "translateX(-700px) rotate(-30deg)";
            card.style.opacity = "0";

            setTimeout(() => {
                // REALISTIC MATCH CHANCE: 15%
                if(isLike && Math.random() < 0.15) {
                    showMatchPopup();
                } else {
                    renderCard();
                }
            }, 400);
        }

        function rewind() { if(history.length > 0) renderCard(history.pop()); }
        function toggleBio(s) { document.getElementById('full-bio').style.display = s ? 'block' : 'none'; }
        function toggleSafety(s) { document.getElementById('safety-modal').classList.toggle('hidden', !s); }

        function showMatchPopup() {
            document.getElementById('match-target').style.backgroundImage = `url('${currentProfile.photo}')`;
            document.getElementById('match-popup').style.display = 'flex';
            if(!matches.find(m => m.id === currentProfile.id)) matches.push({...currentProfile});
        }

        function switchTab(t) {
            activeTab = t;
            document.getElementById('tab-matches').classList.toggle('active', t === 'matches');
            document.getElementById('tab-messages').classList.toggle('active', t === 'messages');
            updateSidebar();
        }

        function updateSidebar() {
            const container = document.getElementById('sidebar-content');
            if(activeTab === 'matches') {
                const filtered = matches.filter(m => !m.lastMsg);
                container.innerHTML = filtered.length ? `<div class="matches-grid">${filtered.map(m => `<div class="match-card" style="background-image:url('${m.photo}')" onclick="openChat(${m.id})"><span>${m.name}</span></div>`).join('')}</div>` : '<p style="text-align:center;color:#555;">No matches yet.</p>';
            } else {
                const filtered = matches.filter(m => m.lastMsg);
                container.innerHTML = filtered.map(m => `<div class="msg-item" onclick="openChat(${m.id})"><div class="msg-thumb" style="background-image:url('${m.photo}')"></div><div><b>${m.name}</b><br><small>${m.lastMsg}</small></div></div>`).join('') || '<p style="text-align:center;color:#555;">No messages.</p>';
            }
        }

        function openChat(id) {
            const m = matches.find(x => x.id === id);
            currentProfile = m;
            document.getElementById('chat-name').innerText = m.name;
            document.getElementById('chat-avatar').style.backgroundImage = `url('${m.photo}')`;
            document.getElementById('chat-body').innerHTML = `<div class="bubble them">You matched with ${m.name}!</div>` + (m.lastMsg ? `<div class="bubble me">${m.lastMsg}<div class="receipt">Read</div></div>` : "");
            document.getElementById('chat-ui').style.display = 'flex';
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            if(!input.value) return;
            const m = matches.find(x => x.id === currentProfile.id);
            m.lastMsg = input.value;
            document.getElementById('chat-body').innerHTML += `<div class="bubble me">${input.value}<div class="receipt">Sent</div></div>`;
            input.value = '';
            setTimeout(() => { updateSidebar(); document.querySelector('.receipt:last-child').innerText = "Read"; }, 1500);
        }

        function openChatFromMatch() { document.getElementById('match-popup').style.display = 'none'; openChat(matches[matches.length-1].id); }
        function closeChat() { document.getElementById('chat-ui').style.display = 'none'; renderCard(); }

        function openFB() {
            const win = window.open("", "fb", "width=400,height=500");
            win.document.write('<html><body style="text-align:center;font-family:sans-serif;"><h2>Facebook</h2><button onclick="window.opener.postMessage(\'fb_ok\',\'*\');window.close()">Log In</button></body></html>');
        }

        window.addEventListener('message', (e) => {
            if(e.data === 'fb_ok') {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('perms-screen').classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
